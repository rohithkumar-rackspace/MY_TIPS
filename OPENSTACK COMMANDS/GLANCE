================================================================================================================================================================================================
GLANCE OPENSTACK IMAGE SERVICE:
================================================================================================================================================================================================
1.Uploading Images to Glance:
-----------------------------
1.Download cirros image to the /tmp directory

# wget https://download.cirros-0.3.5-i386-disk.img

2.Upload the image to glance:

# openstack image create IMAGENAME --disk-format qcow2 --file /tmp/cirros-0.3.5-i386-disk.img 

==========================================================================================================================================================================================================
2.Image list:
-------------
# openstack image list 

===============================================================================================================================================================================================================--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
3.Image Show:
--------------
# openstack image show  IMAGENAME
==========================================================================================================================================================================================================================------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Creating images with the openstack client results in the specified file being uploaded to the openstack image repository.
Repository can be a local directory or volume specified in the glance configuration file or even an object store served by swift, ceph,RackSpace cloud files

when image is uploading to glance store backed by ceph, the images must be in the raw format else they willfail to work properly.
qemu-cmd is used for image convertion from one format to another.

# qemu-cmd convert -f qcow2 -O raw image.qcow2 image.raw

===================================================================================================================================================================================================================================-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
4.Delete Images:
----------------
# openstack image delete IMAGENAME
=================================================================================================================================================================================================================================================-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
5.Downloading Images From Glance to Local Machine:
--------------------------------------------------
# openstack image save IMAGENAME --file /tmp/Imagename.qcow2

# ls -la /tmp

========================================================================================================================================================================================================================================================================---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
6.Sharing Images:
------------------
private,public,sharing

1.set imagename property to sharing

# openstack image set IMAGENAME --shared 

2.share image to project:

# openstack image add project IMAGENAME  ProjectNAME

3.Accept image  from other project.

# openstack image set IMAGENAME --accept 

4.Verify:

# openstack image list 

5.remove image share from project:

# openstack image remove IMAGENAME projectname

===============================================================================================================================================================================================================================================================================----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
7.Image SnapShots:
------------------
a snapshot is an image that reflects the state of an instance at a point in time.
snapshots are often used to backup instances or migrate instances from one cloud to another cloud 

1.Creating Snapshots:

# openstack  server image create --name SNAPSHOTNAME  INSTANCENAME

============================================================================================================================================================================================================================================================================================--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
8.IMAGE Metadata:
------------------
images have properties known as metadata that help describe the image.
the metadata that is applied to an image can be used to enable specific functionality in other openstack services.

1.To set metadata:

# openstack image set IMAGENAME --property architecture=m68k  --property os_distro=ubuntu 

2.Verify:

# openstack image show IMAGENAME

3.To unset metadata:
# openstack image unset IMAGENAME --property architecture=m68k  --property os_distro=ubuntu 

4.Verify:

# openstack image show IMAGENAME

========================================================================================================================================================================================================================================================================================================----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
9.PROTECTING / UNPROTECT IMAGES:
---------------------------------
to protect images from deletion 

1.protect images:

# openstack image set IMAGENAME --protected

2. unprotect images:

# openstack image set IMAGENAME --unprotect

=====================================================================================================================================================================================================================================================================================================================--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
10.Activate / Deactivate Images:
---------------------------------
1.Activate image:

# openstack image set IMAGENAME --deactivate 

2.Deactivate image:

# openstack image set IMAGENAME --active 

-=============================================================================================================================================================================================================================================================================================================================-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
